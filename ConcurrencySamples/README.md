# ConcurrencySamples

# Concurrency

1. Основы:
    Как происходит исполнение кода
        Регистры
        Стэк
    Единицы исполнения кода
        Процесс
        Поток
        Корутина
    Многозадачность
        Коорперативная
        Вытесняющая

2. ОС
    Прерывания
    Context Switching
    Виртуальная память
    Адресное пространство процесса
    Сегменты процесса
        stack
        heap
        text
        data/bss

3. Основы с практикой
    Конкуретное исполнение
    Паралелльное исполнение

## УПРАЖНЕНИЕ

Написать приложение, которое будет конкурентно/параллельно печатать что-то на экран, либо обрабатывать клиентские соединения (без разделяемых данных)

4. Базовые примитивы синхронизации
    Мьютексы
    Семафоры
    Условные переменные

## УПРАЖНЕНИЕ

Написать приложение, которое будет параллельно работать с какой-нибудь структурой данных

Написать приложение, которое будет ограничивать количество одновременных соединений для сервера

Написать приложение под кодовых названием consumer-producer, его еще называют reader-writer (вся информация в инете)

5. Базовая архитектура компьютера
    Иерархия памяти
    Разрядность процессора
    Разрядность шины

6. Атомики
    Load
    Store
    CompareAndSwap
    Атомики с указателями

## УПРАЖНЕНИЕ

Написать приложение, которое будет считать RPS-сервера

Написать spin-lock

7. Проблемы параллельного программирования
    Data race
    Dead lock
    Live lock
    Starvation

# УПРАЖНЕНИЕ

Решить задачу об обедающих философах

Решить задачу о спящем парикмахере

Решить задачу о курильщиках

8. Продвинутые примитивы синхронизации
    Каналы
    Мьютексы
        read-write
        recursive
        timed
        hierarchical
    Futures
    Promises

# УПРАЖНЕНИЕ

Написать read-write, recursive, timed, hierarchical mutex

9. Паттерны
    Worker pool
    Scheduler
    Batcher

# УПРАЖНЕНИЕ

Написать poll воркеров, которые будут параллельно выполнять какие-то задачи

Написать планировщик задач, например, как setTimeout и setInterval из JS

Написать batcher

10. Ввод-вывод
    Синхронный ввод-вывод
    Мультиплексированный ввод-вывод
    Асихронный ввод-вывод

# УПРАЖНЕНИЕ

Написать TCP-сервер на epoll-ах

# ТУТ ЗАКРЫТО УЖЕ 90% ЗАДАЧ ПАРАЛЛЕЛЬНОГО ПРОГРАММИРОВАНИЯ, НО ОСТАЮТСЯ НЮАНСЫ (НАПРИМЕР, ЧТО КОМПИЛЯТОР МЕНЯЕТ ИНСТРУКЦИИ)

11. Барьеры памяти
    Write-барьер
    Read-барьер
    Acquire-барьер
    Release-барьер

12. Различные внутренности
    Кэши процессора
        Когерентность кэша (MESI)
        Store buffer
        Invalidation queue
        False sharing
    Pipeline процессора
    Hyper-threading
    Алгоритмы планирования
        First Come First Serve
        Shortest Job Next
        Round Robin
        Приоритетное планирование
    Инверсия приоритетов
    Закон Амдала

13. Алгоритмы синхронизации
    Грубая синхронизация
    Тонкая синхронизация
    Оптимистичная синхронизация
    Ленивая синхронизация
    Партиционирование

# УПРАЖНЕНИЕ

Написать несколько реализаций связного списка, используя грубую, тонкую, оптимистическую и ленивую синхронизацию

Написать партиционирование для хэш-таблицы

14. lock-free структуры данных
    ABA проблема
    Стек Трайбера
    Очередь Майкла-Скотта

# УПРАЖНЕНИЕ

Реализовать стек Трайбера

Реализовать очередь Майкла-Скотта

15. wait-free структура данных

# ОБЪЕМНАЯ ПРАКТИКА

1. Примитивная in-memory key-value база данных

2. writer-had lock

3. Примитивная репликация